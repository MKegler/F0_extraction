function y = Data_Filtering_1500HzLowPass_8kHzFs(x)
%DATA_FILTERING_1500HZLOWPASS_8KHZFS Filters input x and returns output y.

% MATLAB Code
% Generated by MATLAB(R) 8.6 and the DSP System Toolbox 9.1.
% Generated on: 07-Apr-2016 12:48:48

%#codegen

% To generate C/C++ code from this function use the codegen command. Type
% 'help codegen' for more information.

persistent Hd;

if isempty(Hd)
    
    % The following code was used to design the filter coefficients:
    % % FIR Window Lowpass filter designed using the FIR1 function.
    %
    % % All frequency values are in Hz.
    % Fs = 8820;  % Sampling Frequency
    %
    % Fpass = 1500;            % Passband Frequency
    % Fstop = 1650;            % Stopband Frequency
    % Dpass = 0.057501127785;  % Passband Ripple
    % Dstop = 0.0001;          % Stopband Attenuation
    % flag  = 'scale';         % Sampling Flag
    %
    % % Calculate the order from the parameters using KAISERORD.
    % [N,Wn,BETA,TYPE] = kaiserord([Fpass Fstop]/(Fs/2), [1 0], [Dstop Dpass]);
    %
    % % Calculate the coefficients using the FIR1 function.
    % b  = fir1(N, Wn, TYPE, kaiser(N+1, BETA), flag);
    
    Hd = dsp.FIRFilter( ...
        'Numerator', [2.49399141232024e-06 7.05408945110537e-06 ...
        3.68924456326244e-06 -6.29957284177455e-06 -1.15690189594164e-05 ...
        -3.07110505344862e-06 1.24459115842397e-05 1.6424624071457e-05 ...
        2.03764439711409e-20 -2.11532527573567e-05 -2.06712529516192e-05 ...
        6.59595398099604e-06 3.22687072304392e-05 2.29585905830808e-05 ...
        -1.77147054797462e-05 -4.51293122842358e-05 -2.15816473517746e-05 ...
        3.4090713913094e-05 5.8451574781134e-05 1.4594954911038e-05 ...
        -5.59766344185648e-05 -7.02707794308467e-05 1.66055357941048e-19 ...
        8.29170570381199e-05 7.7952945293363e-05 -2.39972409584004e-05 ...
        -0.000113541510014079 -7.82989517040468e-05 5.86714267947348e-05 ...
        0.000145408405979827 6.77538514347969e-05 -0.000104428596414298 ...
        -0.000174933237742518 -4.27249100079001e-05 0.000160455171361562 ...
        0.000197432380616383 -1.14499096458344e-18 -0.000224405784170794 ...
        -0.000207307886473649 6.27554455385236e-05 0.000292175456647734 ...
        0.000198388603604732 -0.000146458417404377 -0.000357802545795582 ...
        -0.000164429219015104 0.000250073260283328 0.000413544898841533 ...
        9.97522588011832e-05 -0.000370139315979456 -0.000450162416029831 ...
        4.13087238833847e-18 0.000500424557287057 0.000457424824179987 ...
        -0.00013705469790745 -0.000631768488767784 -0.000424844595091481 ...
        0.000310705560233955 0.000752171219971948 0.000342612846728844 ...
        -0.000516596957313332 -0.000847172564520542 -0.000202692493438457 ...
        0.000746179992855474 0.000900545620611947 -1.1278777278757e-17 ...
        -0.000986424830106304 -0.000895304571983759 0.000266412812577059 ...
        0.00121986448561252 0.00081499810802379 -0.000592280027037452 ...
        -0.00142502809584025 -0.000645230165652536 0.000967256205055905 ...
        0.00157729679936591 0.000375321323125191 -0.00137437261389228 ...
        -0.00165018430951879 -9.36910695963535e-19 0.00178991156140715 ...
        0.00161700918856001 -0.00047900454958347 -0.00218377337889082 ...
        -0.00145288963328085 0.00105160313609033 0.00252037950210768 ...
        0.00113695755486521 -0.001698353380259 -0.00276011664798787 ...
        -0.000654660402221677 0.00238994798472053 0.00286128392732019 ...
        -8.08015712784751e-18 -0.00308727114025715 -0.00278246020505427 ...
        0.000822449187226871 0.00374206842958094 0.00248516686617318 ...
        -0.00179589179637344 -0.00429822348903102 -0.001936665210714 ...
        0.0028901573443877 0.00469357333331999 0.00111270157973668 ...
        -0.0040611193981805 -0.00486212476210797 3.02227382119103e-17 ...
        0.00525070090195672 0.00473645590974199 -0.00140169628705543 ...
        -0.00638738491465122 -0.00424999460093885 0.00307821564951465 ...
        0.00738701835955428 0.00333874401142432 -0.005000329645686 ...
        -0.00815350081778551 -0.0019418408525792 0.00712400722260353 ...
        0.00857863120063142 -1.21949255095373e-17 -0.00939159613762921 ...
        -0.00853980077032902 0.00254977206256909 0.0117339122932165 ...
        0.00789301957661138 -0.00578631279732445 -0.0140731519076006 ...
        -0.00645600453967694 0.00983007198917543 0.0163264789950602 ...
        0.00396896733530007 -0.0148992210271008 -0.0184100865954561 ...
        1.34712975868327e-17 0.0214434672507656 0.0202434891535887 ...
        -0.00630971417048621 -0.0305165480228118 -0.0217537790554938 ...
        0.01707929593301 0.0451004778517714 0.0228795749642544 ...
        -0.0395262835957745 -0.0773738504803895 -0.0235744041430523 ...
        0.124347792794018 0.286736499050666 0.35713942020959 0.286736499050666 ...
        0.124347792794018 -0.0235744041430523 -0.0773738504803895 ...
        -0.0395262835957745 0.0228795749642544 0.0451004778517714 ...
        0.01707929593301 -0.0217537790554938 -0.0305165480228118 ...
        -0.00630971417048621 0.0202434891535887 0.0214434672507656 ...
        1.34712975868327e-17 -0.0184100865954561 -0.0148992210271008 ...
        0.00396896733530007 0.0163264789950602 0.00983007198917543 ...
        -0.00645600453967694 -0.0140731519076006 -0.00578631279732445 ...
        0.00789301957661138 0.0117339122932165 0.00254977206256909 ...
        -0.00853980077032902 -0.00939159613762921 -1.21949255095373e-17 ...
        0.00857863120063142 0.00712400722260353 -0.0019418408525792 ...
        -0.00815350081778551 -0.005000329645686 0.00333874401142432 ...
        0.00738701835955428 0.00307821564951465 -0.00424999460093885 ...
        -0.00638738491465122 -0.00140169628705543 0.00473645590974199 ...
        0.00525070090195672 3.02227382119103e-17 -0.00486212476210797 ...
        -0.0040611193981805 0.00111270157973668 0.00469357333331999 ...
        0.0028901573443877 -0.001936665210714 -0.00429822348903102 ...
        -0.00179589179637344 0.00248516686617318 0.00374206842958094 ...
        0.000822449187226871 -0.00278246020505427 -0.00308727114025715 ...
        -8.08015712784751e-18 0.00286128392732019 0.00238994798472053 ...
        -0.000654660402221677 -0.00276011664798787 -0.001698353380259 ...
        0.00113695755486521 0.00252037950210768 0.00105160313609033 ...
        -0.00145288963328085 -0.00218377337889082 -0.00047900454958347 ...
        0.00161700918856001 0.00178991156140715 -9.36910695963535e-19 ...
        -0.00165018430951879 -0.00137437261389228 0.000375321323125191 ...
        0.00157729679936591 0.000967256205055905 -0.000645230165652536 ...
        -0.00142502809584025 -0.000592280027037452 0.00081499810802379 ...
        0.00121986448561252 0.000266412812577059 -0.000895304571983759 ...
        -0.000986424830106304 -1.1278777278757e-17 0.000900545620611947 ...
        0.000746179992855474 -0.000202692493438457 -0.000847172564520542 ...
        -0.000516596957313332 0.000342612846728844 0.000752171219971948 ...
        0.000310705560233955 -0.000424844595091481 -0.000631768488767784 ...
        -0.00013705469790745 0.000457424824179987 0.000500424557287057 ...
        4.13087238833847e-18 -0.000450162416029831 -0.000370139315979456 ...
        9.97522588011832e-05 0.000413544898841533 0.000250073260283328 ...
        -0.000164429219015104 -0.000357802545795582 -0.000146458417404377 ...
        0.000198388603604732 0.000292175456647734 6.27554455385236e-05 ...
        -0.000207307886473649 -0.000224405784170794 -1.14499096458344e-18 ...
        0.000197432380616383 0.000160455171361562 -4.27249100079001e-05 ...
        -0.000174933237742518 -0.000104428596414298 6.77538514347969e-05 ...
        0.000145408405979827 5.86714267947348e-05 -7.82989517040468e-05 ...
        -0.000113541510014079 -2.39972409584004e-05 7.7952945293363e-05 ...
        8.29170570381199e-05 1.66055357941048e-19 -7.02707794308467e-05 ...
        -5.59766344185648e-05 1.4594954911038e-05 5.8451574781134e-05 ...
        3.4090713913094e-05 -2.15816473517746e-05 -4.51293122842358e-05 ...
        -1.77147054797462e-05 2.29585905830808e-05 3.22687072304392e-05 ...
        6.59595398099604e-06 -2.06712529516192e-05 -2.11532527573567e-05 ...
        2.03764439711409e-20 1.6424624071457e-05 1.24459115842397e-05 ...
        -3.07110505344862e-06 -1.15690189594164e-05 -6.29957284177455e-06 ...
        3.68924456326244e-06 7.05408945110537e-06 2.49399141232024e-06]);
end

y = step(Hd,x);


% [EOF]
